---
title: "Istio 란?"
date: 2025-09-21 13:00:00 +0900
categories: [Service Mesh,Infrastructure]
tags: [Istio,Service Mesh,Envoy,Traffic Management]
---

### Istio란?

---

- 서비스 메시(Service Mesh): 마이크로서비스 간의 네트워크 통신을 제어, 관찰, 보호하는 전용 인프라 계층.
- Envoy Proxy를 사이드카(sidecar) 형태로 각 서비스 옆에 배치해, 애플리케이션 코드 수정 없이 트래픽을 제어할 수 있도록 해줌

##### [Envoy Proxy]({{ site.baseurl }}{% post_url istio/2025-09-21-envoy-proxy %})
- L4~L7 계층을 다루는 서비스 프록시 + 통신 게이트웨이 역할
- 원래는 마이크로서비스 간 통신을 더 안전하고 효율적으로 하기 위해 만들어짐


### Istio의 주요 특징

---

1. 트래픽 관리
   - 서비스 간 로드 밸런싱, 라우팅, A/B 테스트, 카나리 배포 등을 손쉽게 적용 가능.
   - 예: 특정 버전의 서비스로 10% 트래픽만 보내기

```yml
route:
  - destination:
      host: service-v1
    weight: 90
  - destination:
      host: service-v2
    weight: 10
```


2. 보안
   - 트래픽 간 자동으로 mTLS(mutual) 통신 암호화.
   - 서비스 간 인증, 인가(Authorization)지원 -> "누가 누구에게 접 가능한가?"를 중앙 정책으로 제어.


3. 관찰 가능성
   - 분산 추적, 메트릭 수집, 로깅을 기본 제공.
   - Prometheus, Grafana, Jaeger 같은 모니터링 툴과 통합 가능.
   - 서비스 지연(latency), 오류율 등을 쉽게 시각화.


4. 정책 제어
   - 트래픽 할당량(Quota), 속도 제한(Rate Limiting), 접근 제어(Access Control) 같은 규칙을 중앙에서 관리.
   - 각 서비스가 따로 구현할 필요 없음.


5. 확장성
  - k8s와 자연스럽게 통합되며, VM환경까지 지원.
  - Envoy Proxy를 기반으로 하므로 다양한 플러그인 확장 가능.


### Istio Architecture

---

1. 데이터 플레인 (Data Plane): 실제 네트워크 트래픽을 직접 처리하는 계층
  - 각 Pod(서비스)에 붙는 Envoy Proxx(사이드카)
  - 실제 네트워크 트래픽을 가로채어 관리


2. 컨트롤 플레인 (Control Plane): 정책과 구성을 관리,배포하는 계층
  - Istiod가 정책,구성을 관리하고 Envoy에 배포
  - 인증서 발급, 트래픽 규칙 설정, 정책 적용 담당


### 요약

---

> Istio = 서비스 간 통신을 위한 인프라 계층

- 트래픽 관리 -> 카나리 배포(?), 라우팅 제어
- 보안 -> mTLS, 인증/인가
- 관찰 가능성 -> 모니터링, 로깅, 트레이싱 (?)
- 정책 관리 -> 접근 제어, 속도 제한


### 핵심 정리

---

- ##### ***즉, 애플리케이션 코드 수정 없이 네트워크와 보안 문제를 통합적으로 해결해주는 도구***

### (?)

---

- 카나리(canari)
  - 새로운 버전을 배포할 때, 전체 사용자에게 한 번에 적용하지 않고
    일부 트래픽(일부 사용자)에게만 먼저 적용해보는 배포 전략
  

- 트레이싱 
  - ***분산 시스템(특히 마이크로서비스 아키텍처)*** 에서,
    사용자의 요청이 여러 서비스들을 거쳐 처리될 때 그 흐름을 추적하고 기록하는 것
